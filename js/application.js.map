{"version":3,"sources":["application.js"],"names":["escapeHtml","string","String","replace","s","entityMap","escapeRegExp","showWord","index","window","timelineWordsArray","length","data","word","$","timeline","pos","text","words","append","css","outerWidth","hide","fadeIn","draggable","dropListener","event","ui","x","parseInt","y","addClass","currentWord","$id","id","document","getElementById","Reveal","initialize","controls","progress","width","height","transition","backgroundTransition","margin","minScale","maxScale","history","center","on","next","addEventListener","previousSlide","currentSlide","find","removeClass","ga","attr","show","cookie","popup","selectric","iCheck","checkboxClass","value","this","val","toLowerCase","&","<",">","\"","'","/","schoolname","schoolnames","stopPropagation","name","html","is","target","has","debounce","keyword","schoolnamesArray","foundValues","i","pattern","RegExp","test","push","prop","end","parents","fields","serializeArray","isOnError","error","inArray","isNaN","expires","droppable","accept","activeClass","hoverClass","tolerance","drop","load","remove"],"mappings":"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","file":"application.js","sourcesContent":["// micro optimization\nvar $id = function(id) {\n  return $(document.getElementById(id));\n};\n\nReveal.initialize({\n  controls: true,\n  progress: true,\n  width: 1200,\n  height: 853,\n  transition: 'fade',\n  backgroundTransition: 'fade',\n  margin: 0.0,\n  minScale: 0.2,\n  maxScale: 2,\n  controls: true,\n  progress: true,\n  history: true,\n  center: true,\n  transition: 'convex'\n});\n\n$('button.play-btn').on('click', function() {\n  Reveal.next();\n});\n\nReveal.addEventListener('slidechanged', function(event) {\n  var previousSlide = $(event.previousSlide);\n  var currentSlide = $(event.currentSlide);\n\n  if (previousSlide.find('iframe[data-autoplay]').length > 0) {\n    $('div.reveal').removeClass('dark');\n  }\n\n  if (currentSlide.find('iframe[data-autoplay]').length > 0) {\n    $('div.reveal').addClass('dark');\n\n    ga('send', 'event', 'Video', 'play', currentSlide.find('h1').text());\n  }\n\n  ga('send', 'pageview', '/' + currentSlide.attr('id').replace(/#/, ''));\n});\n\n$id('show-second-block').on('click', function() {\n  $id('first-block').hide();\n  $id('second-block').show();\n});\n\nif ($.cookie('show_intro_form') !== '1') {\n  $id('intro-form')\n    .show()\n    .popup('show');\n}\n\n$('select').selectric();\n$(':checkbox').iCheck({\n  checkboxClass: 'icheckbox_minimal-blue'\n});\n\n$id('schoolrole').on('change', function() {\n  var value = $(this).val();\n\n  if (value.toLowerCase() === 'other') {\n    $id('schoolroleother').show();\n  } else {\n    $id('schoolroleother').hide();\n  }\n});\n\nvar entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n\nfunction escapeHtml(string) {\n  return String(string).replace(/[&<>\"'\\/]/g, function (s) {\n    return entityMap[s];\n  });\n}\n\nvar schoolname = $id('schoolname');\nvar schoolnames = $id('schoolnames');\n\nschoolnames\n  .on('click', 'li', function(event) {\n    event.stopPropagation();\n\n    var name = $(this).text();\n\n    schoolname.val(name);\n\n    schoolnames\n      .removeClass('has-values')\n      .html('');\n  });\n\n$(document).on('click', function(event) {\n  if (!schoolname.is(event.target) || (!schoolnames.is(event.target) && schoolnames.has(event.target).length === 0)) {\n    schoolnames\n      .removeClass('has-values')\n      .html('');\n  }\n});\n\nfunction escapeRegExp(string){\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nschoolname\n  .on('input propertychange', $.debounce(function() {\n    var keyword = $(this).val();\n\n    var schoolnamesArray = window.schoolnamesArray || [];\n\n    schoolnames\n      .removeClass('has-values')\n      .html('');\n\n    if (keyword) {\n      keyword = escapeRegExp(keyword);\n\n      var foundValues = [];\n\n      for (var i = 0; i < schoolnamesArray.length; i++) {\n        var name = schoolnamesArray[i].replace(/(\\(|\\))/g, '');\n        var pattern = new RegExp('^' + keyword + '|\\\\s' + keyword + '.*', 'ig');\n\n        if (pattern.test(name)) {\n          foundValues.push(schoolnamesArray[i]);\n        }\n      }\n\n      if (foundValues.length > 0) {\n        schoolnames.addClass('has-values');\n\n        for (var i = 0; i < foundValues.length; i++) {\n          schoolnames.append('<li>' + escapeHtml(foundValues[i]) + '</li>');\n        };\n      }\n    }\n  }, 500));\n\n$id('agree')\n  .on('ifChecked', function() {\n    $id('submit-intro-form').prop('disabled', false);\n  })\n  .on('ifUnchecked', function() {\n    $id('submit-intro-form').prop('disabled', true);\n  });\n\n$id('second-block')\n  .find('input[type=text], input[type=number], input[type=email]')\n    .on('input propertychange', function() {\n      $(this).removeClass('error');\n    })\n  .end()\n  .find('select')\n    .on('change', function() {\n      $(this).parents('.selectric-wrapper').removeClass('error');\n    });\n\n$id('second-block')\n  .on('submit', function() {\n    $(this).find('input[type=text], input[type=number], input[type=email], .selectric-wrapper').removeClass('error');\n\n    var fields = $(this).serializeArray();\n    var isOnError = false;\n\n    for (var i = 0; i < fields.length; i++) {\n      var id = '';\n      var error = '';\n\n      if ($.inArray(fields[i].name, ['agree', 'schoolroleother']) !== -1) {\n        continue;\n      }\n\n      if (fields[i].value === '') {\n        error = 'Field is required.';\n      } else if (fields[i].name === 'email' && !/\\.edu\\.au$/i.test(fields[i].value)) {\n        error = 'Email address must contain \".edu.au\".';\n      } else if (fields[i].name === 'totalstudents' && parseInt(fields[i].value) === isNaN) {\n        error = 'Field expects a number.';\n      } else if (fields[i].name === 'schoolrole' && fields[i].value.toLowerCase() === 'other' && $id('schoolroleother').val() === '') {\n        id = 'schoolroleother';\n        error = 'Please specify your role.';\n      }\n\n      if (error) {\n        id = (id) ? id : fields[i].name;\n\n        if ($id(id).parents('.selectric-wrapper').length > 0) {\n          $id(id).parents('.selectric-wrapper').addClass('error');\n        } else {\n          $id(id).addClass('error');\n        }\n\n        isOnError = true;\n      }\n    };\n\n    if (!isOnError) {\n      /* $\n        .ajax({\n          type: 'POST',\n          url: '',\n          crossDomain: true,\n          data: $(this).serialize()\n        })\n        .done(function() {\n          $.cookie('show_intro_form', '1', {expires: 0.5});\n          $id('intro-form').popup('hide');\n\n          ga('send', 'event', 'Form', 'submit', 'Initial form');\n        }); */\n      $.cookie('show_intro_form', '1', {expires: 0.5});\n      $id('intro-form').popup('hide');\n\n      ga('send', 'event', 'Form', 'submit', 'Initial form');\n    }\n\n    return false;\n  });\n\nvar currentWord = 0;\n\nfunction showWord(index) {\n  if (index < window.timelineWordsArray.length) {\n    var data = window.timelineWordsArray[index];\n    var word = $('<div class=\"skinny words t-' + data.timeline + '\" data-x=\"' + data.pos[0] + '\" data-y=\"' + data.pos[1] + '\" style=\"top: 9px;\"></div>')\n      .text(data.words);\n\n    $('div.interactive-1').append(word);\n\n    word\n      .css('left', ($('div.interactive-1').outerWidth() / 2) - (word.outerWidth() / 2))\n      .hide()\n      .fadeIn()\n      .draggable();\n  }\n}\n\nfunction dropListener(event, ui) {\n  var x = parseInt(ui.draggable.data('x'), 10) - 50;\n  var y = parseInt(ui.draggable.data('y'), 10) - 50;\n\n  if (y > 360) {\n    y += 10;\n  } else {\n    y -= 10;\n  }\n\n  ui.draggable\n    .addClass('minimize')\n    .css('left', x)\n    .css('top', y)\n    .draggable('disable');\n\n  showWord(++currentWord);\n}\n\n$('.before.dropzone').droppable({\n  accept: '.t-before.words',\n  activeClass: 'drop-active',\n  hoverClass: 'drop-active',\n  tolerance: 'touch',\n  drop: dropListener\n});\n\n$('.after.dropzone').droppable({\n  accept: '.t-after.words',\n  activeClass: 'drop-active',\n  hoverClass: 'drop-active',\n  tolerance: 'touch',\n  drop: dropListener\n});\n\n$(window).load(function() {\n  $('div.preload').remove();\n\n  showWord(currentWord); // have to wait for the custom font to load\n});\n"],"sourceRoot":"/source/"}